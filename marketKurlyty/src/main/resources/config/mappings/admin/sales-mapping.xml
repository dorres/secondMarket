<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
 
 <mapper namespace="SalesDAO">
 <!-- 매출차트 날짜 -->
	<select id="getDate" resultType="sales">
			SELECT 	sum(m.order_goods_price) as sales_amount,  
  			COUNT(*) as sales_count,
  			TO_CHAR(order_date,'MM-dd') as daily_chart
			FROM mk_order as m 
			WHERE 1=1 and order_delivery_status='결제완료' 
			and TO_CHAR(order_date, 'yyyy-MM-dd')
			between #{startdate} and #{enddate}
  			GROUP BY TO_CHAR(order_date,'MM-dd') 
			ORDER BY  daily_chart;
	</select>
 </mapper>