<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
 
 <mapper namespace="adminOrderDAO">
 	<select id="getOrderWaitList" resultType="order">
 		SELECT * FROM MK_ORDER WHERE ORDER_DELIVERY_STATUS != '구매완료' ORDER BY ORDER_DATE
 	</select>
 	<!-- mk_order 테이블 가져오는 쿼리  -->
 	<select id="getOrderWait" resultType="order">
		SELECT * FROM MK_ORDER WHERE ORDER_MERCHANT_SERIAL = #{order_merchant_serial}
 	</select>
 	
 	<select id="getOrderWaitDetail" resultType="order" parameterType="order">
	 	SELECT  
			C.CATEGORY_GOODS_NAME,
			G.GOODS_DETAIL_PRICE,
			O.ORDER_GOODS_COUNT,
			O.ORDER_GOODS_PRICE,
			O.ORDER_GOODS_OLD_PRICE
		FROM 
			mk_category_goods C JOIN mk_goods_detail G 
		on
			C.category_goods_serial = G.category_goods_serial
		join 
			mk_order_details O 
		on
			G.category_goods_serial = O.category_goods_serial
		where 
			o.order_merchant_serial = #{order_merchant_serial}
 	</select>
 	<!-- mk_order 테이블 가져오는 쿼리 -->
 	
 	<!-- mk_shipping_info 테이블 가져오는 쿼리 -->
 	<select id="getShippingInfo" resultType="shipping" parameterType="order">
 		SELECT * FROM MK_SHIPPING_INFO WHERE ORDER_MERCHANT_SERIAL = #{order_merchant_serial}
 	</select>
 </mapper>