<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="ItemPageDAO">
 
	 <select id="getItemPage" resultType="itempage"	parameterType="itempage">
	 SELECT A.category_main_serial,
	        A.category_sub_serial,
	        A.category_goods_serial,
	        A.category_goods_name,
	        A.category_goods_name_subtext,
	        A.category_goods_unit,
	        A.category_goods_weight,
	        A.category_goods_origin,
	        A.category_goods_packaging_type,
	        A.category_goods_delivery_type,
	        A.category_goods_exp_date,
	        A.category_goods_info,
	        A.category_goods_ref,
	        A.category_goods_allergy,
 			A.category_goods_detail_name1,
	 		A.category_goods_detail_name2,	
	 		A.category_goods_detail_name_subtext,   	   
	 		A.category_goods_image_thumb,
	 		A.category_goods_image_detail_header,
	  		A.category_goods_image_detail_main,
	        B.goods_detail_price,                
            B.goods_detail_stock_quantity,         
            B.goods_detail_stock_notification,     
            B.goods_detail_promotion_serial,      
            B.goods_detail_dicountrate
      FROM mk_category_goods AS A 
      INNER JOIN mk_goods_detail AS B
      ON A.category_goods_serial = B.category_goods_serial	   		 
      WHERE A.category_goods_serial = #{category_goods_serial}
 	<!-- 	SELECT * FROM mk_category_goods WHERE category_goods_serial = #{category_goods_serial} -->
	 </select>
	 
 	<select id="getCategoryItemPage" resultType="itempage"	parameterType="itempage">   
	  SELECT A.category_main_serial,
	         A.category_sub_serial,
	         A.category_goods_serial,
	         A.category_goods_name,
	         A.category_goods_image_thumb,
	         B.goods_detail_price
      FROM mk_category_goods AS A 
      INNER JOIN mk_goods_detail AS B
      ON A.category_goods_serial = B.category_goods_serial	   		 
      ORDER BY RANDOM() LIMIT 10
 	<!-- 	SELECT * FROM mk_category_goods WHERE category_goods_serial = #{category_goods_serial} --> 
	 </select> 
 
 </mapper>